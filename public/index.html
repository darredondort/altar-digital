<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <title>Altar Digital</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=DM+Mono&display=swap" as="font" type="font/woff2" crossorigin> 
    <link rel="stylesheet" href="css/style.css">


      
    <script src="https://cdn.jsdelivr.net/npm/p5@1.1.9/lib/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/addons/p5.sound.js"></script>
    

    <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
    <script src="https://unpkg.com/scrollama"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenLite.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/easing/EasePack.min.js'></script>
    <!-- <script src='https://threejs.org/build/three.js'></script> -->
    
    <!-- <script src='https://threejs.org/examples/js/controls/OrbitControls.js'></script> -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/easing/EasePack.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenLite.min.js'></script>
    <script src="https://unpkg.com/ml5@0.4.3/dist/ml5.min.js"></script>

    <link rel="shortcut icon" href="favicon.ico">




  </head>

  <body>

    <div id="loader"></div>
    <div id="sceneCont">
      <div id="videoCont"> </div>    
      <div id="camVid"> </div>    
    </div>
    <div id="canvasRitual"></div>


    <main>
      <div id="scrolly">
        <article>
          <div class="main-col">
            <div class="step coreo-step" data-step="1" id="uno">
              <p>Cuando la noche se vuelva oscura,</br>
              y el aire pese al entrar al pecho,</p>
            </div>

            <div class="step coreo-step" data-step="2" id="dos">
              <p> <strong>Creatura</strong>,</br> no temas cerrar los ojos</p>
              <p>Destellos iluminarán tu memoria</p>
            </div>


            <div class="step coreo-step" data-step="3" id="tres">
              <p>En un <strong>Altar</strong>,</br>
              A lxs que solían vivir,</p>
            </div>


            <div class="step coreo-step" data-step="4" id="cuatro">
            </div>
            


            <div class="step coreo-step" data-step="5" id="form">
              <form class="form" id="form-cont">
                <div class="form-text">
                  <p>¿A quién quieres recordar hoy?</p>
                  <input id="nombre" class="input-short"></input>
                </div>            
                <div class="form-text">
                  <p>Año en que nació</p>
                  <input type="number" min="1000" max="2020" id="nacio" class="input-num"></input>
                </div>           
                <div class="form-text">
                  <p>Año en que dejó su cuerpo</p>
                  <input type="number" min="1000" max="2020" id="murio" class="input-num"></input>
                </div>
                <div class="form-text">
                  <p>¿Qué quieres recordar/ </br>honrar de su presencia?</p>
                  <textarea class="input-long" id="text-input"></textarea>
                </div>
                <div class="form-button">
                  <button type="button" id="form-button">Hacer ofrenda</button>
                </div>
              </form>       
          </div>

          <div id="jam" class="hidden"></div>

          <div class="step hidden" data-step="6" id="jam01">
            <!-- <p>1. LUZ </p> -->
          </div>   
          <div class="step hidden" data-step="7" id="jam02">
            <!-- <p>2. CUERPO</p> -->
          </div>  
          <div class="step hidden" data-step="8" id="jam03">
            <!-- <p>3. OFRENDA</p> -->
          </div>  
            
          <div class="step hidden" data-step="9" id="transicion">
            <!-- transición - Recuérdales  -->
          </div>  
          <div class="step hidden" data-step="10" id="altar">
          </div>  
        </div>  
          

        </article>



        <video id="vidCor" width="1920" height="1080">
          <source src="video-web/coreo_03-web.mp4" type="video/mp4">
        </video> 
      </div>
    </main>

      <!-- preload function -->
      <script type="text/javascript">
          
        let loader;
        function loadNow(opacity) {
            if(opacity <= 0) {
                displayContent();
            }
            else {
                loader.style.opacity = opacity;
                window.setTimeout(function() {
                    loadNow(opacity - 0.05)
                }, 100);
            }
        }
        function displayContent() {
            loader.style.display = 'none';
            // document.getElementById('vidCor').style.display = 'block';
        }
        
        document.addEventListener("DOMContentLoaded", function() {
            loader = document.getElementById('loader');
            loadNow(1);
        });
        
    </script>

    <script src="./src/mainScroll.js"></script>
    <script src="./src/altarScene.js" type="module"></script>
    <script src="./src/triggers.js"></script>
  </body>

</html>
